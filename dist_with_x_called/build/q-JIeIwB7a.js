import{h as m}from"./q-B9R08C_P.js";import{_hW as O}from"./q-B9R08C_P.js";var l;function v(e){return{lang:(e==null?void 0:e.lang)??(l==null?void 0:l.lang),message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??(l==null?void 0:l.abortEarly),abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??(l==null?void 0:l.abortPipeEarly)}}var c;function d(e){return c==null?void 0:c.get(e)}var f;function h(e){return f==null?void 0:f.get(e)}var b;function k(e,a){var s;return(s=b==null?void 0:b.get(e))==null?void 0:s.get(a)}function E(e){var s,t;const a=typeof e;return a==="string"?`"${e}"`:a==="number"||a==="bigint"||a==="boolean"?`${e}`:a==="object"||a==="function"?(e&&((t=(s=Object.getPrototypeOf(e))==null?void 0:s.constructor)==null?void 0:t.name))??"null":a}function g(e,a,s,t,r){const y=s.value,u=e.expects??null,p=E(y),n={kind:e.kind,type:e.type,input:y,expected:u,received:p,message:`Invalid ${a}: ${u?`Expected ${u} but r`:"R"}eceived ${p}`,requirement:e.requirement,path:r==null?void 0:r.path,issues:r==null?void 0:r.issues,lang:t.lang,abortEarly:t.abortEarly,abortPipeEarly:t.abortPipeEarly},o=e.kind==="schema",i=e.message??k(e.reference,n.lang)??(o?h(n.lang):null)??t.message??d(n.lang);i&&(n.message=typeof i=="function"?i(n):i),o&&(s.typed=!1),s.issues?s.issues.push(n):s.issues=[n]}function I(e){if(e.path){let a="";for(const s of e.path)if(typeof s.key=="string"||typeof s.key=="number")a?a+=`.${s.key}`:a+=s.key;else return null;return a}return null}function P(){return{kind:"schema",type:"any",reference:P,expects:"any",async:!1,"~standard":1,"~vendor":"valibot","~validate"(e){return e.typed=!0,e}}}function j(e,a){return{kind:"schema",type:"object",reference:j,expects:"Object",async:!1,entries:e,message:a,"~standard":1,"~vendor":"valibot","~validate"(s,t=v()){var y;const r=s.value;if(r&&typeof r=="object"){s.typed=!0,s.value={};for(const u in this.entries){const p=r[u],n=this.entries[u]["~validate"]({value:p},t);if(n.issues){const o={type:"object",origin:"value",input:r,key:u,value:p};for(const i of n.issues)i.path?i.path.unshift(o):i.path=[o],(y=s.issues)==null||y.push(i);if(s.issues||(s.issues=n.issues),t.abortEarly){s.typed=!1;break}}n.typed||(s.typed=!1),(n.value!==void 0||u in r)&&(s.value[u]=n.value)}}else g(this,"type",s,t);return s}}}function _(...e){return{...e[0],pipe:e,"~validate"(a,s=v()){for(const t of e)if(t.kind!=="metadata"){if(a.issues&&(t.kind==="schema"||t.kind==="transformation")){a.typed=!1;break}(!a.issues||!s.abortEarly&&!s.abortPipeEarly)&&(a=t["~validate"](a,s))}return a}}}async function $(e,a,s){const t=await e["~validate"]({value:a},v(s));return{typed:t.typed,success:!t.issues,output:t.value,issues:t.issues}}const w=async e=>{var r;const[a]=m(),s=await a.resolve();return((r=(await $(typeof s=="function"?s():s,e,{abortPipeEarly:!0})).issues)==null?void 0:r[0].message)||""};export{O as _hW,P as a,I as g,j as o,_ as p,$ as s,w as s_0Iy0blAb9DU};
