import{_ as o}from"./q-L4XZ6hCu.js";import{E as a,m as i,q as l,S as c,h as _,_hW as m}from"./q-B9R08C_P.js";import{u as s,r as u,c as f}from"./q-CcsipMCw.js";const d=t=>(a(l(()=>o(()=>Promise.resolve().then(()=>p),void 0),"s_LsOKYucB58I",[t])),i(c,null,3,"Lk_0")),S=Object.freeze(Object.defineProperty({__proto__:null,s_l12nEnCRwno:d},Symbol.toStringTag,{value:"Module"})),v=({cleanup:t})=>{const[e]=_();e.store.internal.validate=e.validate?Array.isArray(e.validate)?e.validate:[e.validate]:[],e.store.internal.validateOn=e.validateOn,e.store.internal.revalidateOn=e.revalidateOn,"value"in e.store&&(e.store.internal.transform=e.transform?Array.isArray(e.transform)?e.transform:[e.transform]:[]);const r=f();e.store.internal.consumers.push(r),e.store.active||(e.store.active=!0,s(e.of)),t(()=>setTimeout(()=>{e.store.internal.consumers.splice(e.store.internal.consumers.indexOf(r),1),!(e.keepActive??!1)&&!e.store.internal.consumers.length&&(e.store.active=!1,e.keepState??!0?s(e.of):u(e.of,e.store.name)),"value"in e.store&&(e.store.internal.elements=e.store.internal.elements.filter(n=>n.isConnected))},15))},p=Object.freeze(Object.defineProperty({__proto__:null,_hW:m,s_LsOKYucB58I:v},Symbol.toStringTag,{value:"Module"}));export{S as i,v as s,d as s_l12nEnCRwno};
